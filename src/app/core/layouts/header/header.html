<header class="w-full max-w-[100vw] h-16 lg:h-24 bg-white px-4 lg:px-6 flex items-center justify-between relative z-[100] overflow-x-clip">
  <!-- Desktop -->
  <section class="flex items-center gap-8 min-w-0">
    <div class="flex items-center gap-3 min-w-0">
      <img src="assets/images/logo.svg" alt="logo" class="w-6 h-6 shrink-0"/>
      <h1 class="text-gray-850 font-semibold text-base leading-5 truncate">{{'header.brand' | translate}}</h1>
    </div>
    <ul class="hidden lg:flex items-center gap-6 list-none m-0 p-0">
      @for(item of menuItems; track item.path) {
        <li>
          <button
            type="button"
            class="text-gray-850 font-medium text-sm leading-6 whitespace-nowrap"
            [ngClass]="isActive(item.path) ? 'text-brand' : ''"
            (click)="navigate(item.path)"
          >{{item.labelKey | translate}}</button>
        </li>
      }
    </ul>
  </section>

  <section class="hidden lg:flex items-center gap-8">
    <ul class="flex items-center list-none m-0 p-0">
      @for(actionButtonItem of actionButtonsList; track actionButtonItem) {
        <li [ngClass]="$last ? 'me-2' : 'me-12'">
          <button class="p-0 bg-transparent border-0 cursor-pointer flex items-center justify-center text-gray-850"
                  [innerHTML]="sanitizer.bypassSecurityTrustHtml(actionButtonItem.icon)"
                  (click)="actionButtonItem.click()"></button>
        </li>
      }
      <li class="text-gray-850 font-medium text-sm leading-6">{{currentLanguageLabelKey | translate}}</li>
    </ul>
    <button class="h-12 min-w-[115px] px-4 rounded-[20px] bg-transparent text-gray-850 font-medium text-sm leading-6 whitespace-nowrap">
      {{'header.auth.login_register' | translate}}
    </button>
  </section>

  <!-- Mobile icons -->
  <section class="flex lg:hidden items-center gap-4">
    <button class="w-6 h-6 flex items-center justify-center bg-transparent border-0 p-0 cursor-pointer text-gray-850" (click)="toggleMenu()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M3 12H21M3 6H21M3 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
    </button>
    <button class="w-6 h-6 flex items-center justify-center bg-transparent border-0 p-0 cursor-pointer text-gray-850" (click)="shoppingBasket()">
      <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M1.80775 19C1.30258 19 0.875 18.825 0.525 18.475C0.175 18.125 0 17.6974 0 17.1923V5.80775C0 5.30258 0.175 4.875 0.525 4.525C0.875 4.175 1.30258 4 1.80775 4H3.75V3.75C3.75 2.71417 4.116 1.83017 4.848 1.098C5.58017 0.366 6.46417 0 7.5 0C8.53583 0 9.41983 0.366 10.152 1.098C10.884 1.83017 11.25 2.71417 11.25 3.75V4H13.1923C13.6974 4 14.125 4.175 14.475 4.525C14.825 4.875 15 5.30258 15 5.80775V17.1923C15 17.6974 14.825 18.125 14.475 18.475C14.125 18.825 13.6974 19 13.1923 19H1.80775ZM1.80775 17.5H13.1923C13.2692 17.5 13.3398 17.4679 13.4038 17.4038C13.4679 17.3398 13.5 17.2693 13.5 17.1923V5.80775C13.5 5.73075 13.4679 5.66025 13.4038 5.59625C13.3398 5.53208 13.2692 5.5 13.1923 5.5H11.25V7.75C11.25 7.96283 11.1782 8.141 11.0345 8.2845C10.891 8.42817 10.7128 8.5 10.5 8.5C10.2872 8.5 10.109 8.42817 9.9655 8.2845C9.82183 8.141 9.75 7.96283 9.75 7.75V5.5H5.25V7.75C5.25 7.96283 5.17817 8.141 5.0345 8.2845C4.891 8.42817 4.71283 8.5 4.5 8.5C4.28717 8.5 4.109 8.42817 3.9655 8.2845C3.82183 8.141 3.75 7.96283 3.75 7.75V5.5H1.80775C1.73075 5.5 1.66025 5.53208 1.59625 5.59625C1.53208 5.66025 1.5 5.73075 1.5 5.80775V17.1923C1.5 17.2693 1.53208 17.3398 1.59625 17.4038C1.66025 17.4679 1.73075 17.5 1.80775 17.5ZM5.25 4H9.75V3.75C9.75 3.12317 9.53175 2.59142 9.09525 2.15475C8.65875 1.71825 8.127 1.5 7.5 1.5C6.873 1.5 6.34125 1.71825 5.90475 2.15475C5.46825 2.59142 5.25 3.12317 5.25 3.75V4Z" fill="currentColor"/>
      </svg>
    </button>
    <button class="w-6 h-6 flex items-center justify-center bg-transparent border-0 p-0 cursor-pointer text-gray-850" type="button">
      <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M13.5 13.5L17 17M15.5 8.75C15.5 12.3417 12.5917 15.25 9 15.25C5.40825 15.25 2.5 12.3417 2.5 8.75C2.5 5.15825 5.40825 2.25 9 2.25C12.5917 2.25 15.5 5.15825 15.5 8.75Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    <button class="w-6 h-6 flex items-center justify-center bg-transparent border-0 p-0 cursor-pointer" (click)="changeTheme()">
      <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M8.49975 16.7648C6.13058 16.7648 4.12167 15.9404 2.473 14.2918C0.824334 12.6429 0 10.6339 0 8.26477C0 6.29177 0.6105 4.53794 1.8315 3.00327C3.05267 1.46861 4.67925 0.479523 6.71125 0.0360226C6.92158 -0.0166441 7.10683 -0.0115596 7.267 0.0512737C7.42733 0.114107 7.5575 0.20769 7.6575 0.332023C7.7575 0.456523 7.8165 0.607523 7.8345 0.785023C7.85233 0.962523 7.81067 1.13977 7.7095 1.31677C7.503 1.69244 7.34975 2.08269 7.24975 2.48752C7.14975 2.89236 7.09975 3.31811 7.09975 3.76477C7.09975 5.40361 7.67342 6.79669 8.82075 7.94402C9.96792 9.09119 11.3609 9.66477 12.9998 9.66477C13.4909 9.66477 13.9602 9.60261 14.4075 9.47827C14.855 9.35394 15.2467 9.20969 15.5825 9.04552C15.7467 8.97386 15.9069 8.94852 16.0633 8.96952C16.2198 8.99069 16.3533 9.04294 16.4638 9.12627C16.5866 9.20961 16.6778 9.32344 16.7373 9.46777C16.7969 9.61194 16.8037 9.78144 16.7575 9.97627C16.4023 11.9429 15.4456 13.566 13.8873 14.8455C12.3289 16.125 10.5331 16.7648 8.49975 16.7648ZM8.49975 15.2648C9.96642 15.2648 11.2831 14.8606 12.4498 14.0523C13.6164 13.2439 14.4664 12.1898 14.9998 10.8898C14.6664 10.9731 14.3331 11.0398 13.9998 11.0898C13.6664 11.1398 13.3331 11.1648 12.9998 11.1648C10.9498 11.1648 9.20392 10.4439 7.76225 9.00227C6.32058 7.56061 5.59975 5.81477 5.59975 3.76477C5.59975 3.43144 5.62475 3.09811 5.67475 2.76477C5.72475 2.43144 5.79142 2.09811 5.87475 1.76477C4.57475 2.29811 3.52058 3.14811 2.71225 4.31477C1.90392 5.48144 1.49975 6.79811 1.49975 8.26477C1.49975 10.1981 2.18308 11.8481 3.54975 13.2148C4.91642 14.5814 6.56642 15.2648 8.49975 15.2648Z" fill="#222222"/>
      </svg>
    </button>
  </section>

  <!-- Mobile overlay -->
  <div class="fixed inset-0 bg-black/20 z-[998] transition-opacity duration-300"
       [ngClass]="isMenuOpen ? 'opacity-100 pointer-events-auto' : 'opacity-0 pointer-events-none'"
       (click)="closeMenu()"></div>

  <!-- Mobile drawer -->
  <aside class="fixed top-0 right-0 h-screen w-[300px] max-w-[78vw] bg-gray-100 z-[999] transition-transform duration-300 will-change-transform overflow-y-auto"
         [ngClass]="isMenuOpen ? 'translate-x-0 pointer-events-auto' : 'translate-x-full pointer-events-none'">
    <div class="flex items-center justify-between px-5 py-6 border-b border-gray-200 gap-3">
      <h2 class="text-gray-850 font-semibold text-lg leading-6 m-0">{{'header.menu.title' | translate}}</h2>
      <button class="w-6 h-6 flex items-center justify-center bg-transparent border-0 p-0 cursor-pointer text-gray-850" (click)="closeMenu()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>

    <ul class="list-none m-0 p-0">
      @for(item of menuItems; track item.path) {
        <li class="border-b border-gray-200">
          <button
            type="button"
            class="block w-full text-start px-5 py-4 text-gray-850 font-medium text-base leading-6"
            [ngClass]="isActive(item.path) ? 'text-brand' : ''"
            (click)="navigate(item.path)"
          >{{item.labelKey | translate}}</button>
        </li>
      }
    </ul>

    <div class="h-px bg-gray-200"></div>

    <div class="px-5 py-4">
      <div class="flex items-center justify-between py-3">
        <span class="text-gray-850 font-medium text-base leading-6">{{'header.menu.dark_mode' | translate}}</span>
        <button class="bg-transparent border-0 p-0 cursor-pointer flex items-center justify-center" (click)="changeTheme()">
          <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.49975 16.7648C6.13058 16.7648 4.12167 15.9404 2.473 14.2918C0.824334 12.6429 0 10.6339 0 8.26477C0 6.29177 0.6105 4.53794 1.8315 3.00327C3.05267 1.46861 4.67925 0.479523 6.71125 0.0360226C6.92158 -0.0166441 7.10683 -0.0115596 7.267 0.0512737C7.42733 0.114107 7.5575 0.20769 7.6575 0.332023C7.7575 0.456523 7.8165 0.607523 7.8345 0.785023C7.85233 0.962523 7.81067 1.13977 7.7095 1.31677C7.503 1.69244 7.34975 2.08269 7.24975 2.48752C7.14975 2.89236 7.09975 3.31811 7.09975 3.76477C7.09975 5.40361 7.67342 6.79669 8.82075 7.94402C9.96792 9.09119 11.3609 9.66477 12.9998 9.66477C13.4909 9.66477 13.9602 9.60261 14.4075 9.47827C14.855 9.35394 15.2467 9.20969 15.5825 9.04552C15.7467 8.97386 15.9069 8.94852 16.0633 8.96952C16.2198 8.99069 16.3533 9.04294 16.4638 9.12627C16.5866 9.20961 16.6778 9.32344 16.7373 9.46777C16.7969 9.61194 16.8037 9.78144 16.7575 9.97627C16.4023 11.9429 15.4456 13.566 13.8873 14.8455C12.3289 16.125 10.5331 16.7648 8.49975 16.7648ZM8.49975 15.2648C9.96642 15.2648 11.2831 14.8606 12.4498 14.0523C13.6164 13.2439 14.4664 12.1898 14.9998 10.8898C14.6664 10.9731 14.3331 11.0398 13.9998 11.0898C13.6664 11.1398 13.3331 11.1648 12.9998 11.1648C10.9498 11.1648 9.20392 10.4439 7.76225 9.00227C6.32058 7.56061 5.59975 5.81477 5.59975 3.76477C5.59975 3.43144 5.62475 3.09811 5.67475 2.76477C5.72475 2.43144 5.79142 2.09811 5.87475 1.76477C4.57475 2.29811 3.52058 3.14811 2.71225 4.31477C1.90392 5.48144 1.49975 6.79811 1.49975 8.26477C1.49975 10.1981 2.18308 11.8481 3.54975 13.2148C4.91642 14.5814 6.56642 15.2648 8.49975 15.2648Z" fill="#222222"/>
          </svg>
        </button>
      </div>

      <div class="flex items-center justify-between py-3">
        <span class="text-gray-850 font-medium text-base leading-6">{{'header.menu.cart' | translate}}</span>
        <div class="flex items-center gap-2">
          <span *ngIf="cartIsEmpty" class="bg-gray-200 rounded-full px-3 py-1 text-gray-850 font-medium text-xs leading-4">
            {{'header.menu.empty' | translate}}
          </span>
          <svg width="15" height="19" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1.80775 19C1.30258 19 0.875 18.825 0.525 18.475C0.175 18.125 0 17.6974 0 17.1923V5.80775C0 5.30258 0.175 4.875 0.525 4.525C0.875 4.175 1.30258 4 1.80775 4H3.75V3.75C3.75 2.71417 4.116 1.83017 4.848 1.098C5.58017 0.366 6.46417 0 7.5 0C8.53583 0 9.41983 0.366 10.152 1.098C10.884 1.83017 11.25 2.71417 11.25 3.75V4H13.1923C13.6974 4 14.125 4.175 14.475 4.525C14.825 4.875 15 5.30258 15 5.80775V17.1923C15 17.6974 14.825 18.125 14.475 18.475C14.125 18.825 13.6974 19 13.1923 19H1.80775ZM1.80775 17.5H13.1923C13.2692 17.5 13.3398 17.4679 13.4038 17.4038C13.4679 17.3398 13.5 17.2693 13.5 17.1923V5.80775C13.5 5.73075 13.4679 5.66025 13.4038 5.59625C13.3398 5.53208 13.2692 5.5 13.1923 5.5H11.25V7.75C11.25 7.96283 11.1782 8.141 11.0345 8.2845C10.891 8.42817 10.7128 8.5 10.5 8.5C10.2872 8.5 10.109 8.42817 9.9655 8.2845C9.82183 8.141 9.75 7.96283 9.75 7.75V5.5H5.25V7.75C5.25 7.96283 5.17817 8.141 5.0345 8.2845C4.891 8.42817 4.71283 8.5 4.5 8.5C4.28717 8.5 4.109 8.42817 3.9655 8.2845C3.82183 8.141 3.75 7.96283 3.75 7.75V5.5H1.80775C1.73075 5.5 1.66025 5.53208 1.59625 5.59625C1.53208 5.66025 1.5 5.73075 1.5 5.80775V17.1923C1.5 17.2693 1.53208 17.3398 1.59625 17.4038C1.66025 17.4679 1.73075 17.5 1.80775 17.5ZM5.25 4H9.75V3.75C9.75 3.12317 9.53175 2.59142 9.09525 2.15475C8.65875 1.71825 8.127 1.5 7.5 1.5C6.873 1.5 6.34125 1.71825 5.90475 2.15475C5.46825 2.59142 5.25 3.12317 5.25 3.75V4Z" fill="currentColor"/>
          </svg>
        </div>
      </div>
    </div>

    <div class="h-px bg-gray-200"></div>

    <div class="px-5 py-4">
      <div class="flex items-center justify-between py-3">
        <span class="text-gray-850 font-medium text-base leading-6">{{'header.menu.language' | translate}}</span>
        <div class="flex items-center gap-2 cursor-pointer select-none" (click)="toggleLanguage()">
          <span class="text-gray-850 font-medium text-base leading-6">{{currentLanguageFullLabelKey | translate}}</span>
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 6L8 10L12 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9.5 19C8.1975 19 6.96833 18.7503 5.8125 18.251C4.65667 17.7517 3.64867 17.0718 2.7885 16.2115C1.92817 15.3513 1.24833 14.3433 0.749 13.1875C0.249667 12.0317 0 10.8025 0 9.5C0 8.18717 0.249667 6.95542 0.749 5.80475C1.24833 4.65408 1.92817 3.64867 2.7885 2.7885C3.64867 1.92817 4.65667 1.24833 5.8125 0.749001C6.96833 0.249667 8.1975 0 9.5 0C10.8128 0 12.0446 0.249667 13.1953 0.749001C14.3459 1.24833 15.3513 1.92817 16.2115 2.7885C17.0718 3.64867 17.7517 4.65408 18.251 5.80475C18.7503 6.95542 19 8.18717 19 9.5C19 10.8025 18.7503 12.0317 18.251 13.1875C17.7517 14.3433 17.0718 15.3513 16.2115 16.2115C15.3513 17.0718 14.3459 17.7517 13.1953 18.251C12.0446 18.7503 10.8128 19 9.5 19ZM9.5 17.4788C10.0103 16.8019 10.4398 16.1192 10.7885 15.4307C11.1372 14.7422 11.4212 13.9897 11.6405 13.173H7.3595C7.59167 14.0153 7.87892 14.7808 8.22125 15.4693C8.56342 16.1578 8.98967 16.8276 9.5 17.4788ZM7.5635 17.2038C7.18017 16.6538 6.83592 16.0285 6.53075 15.328C6.22558 14.6273 5.98842 13.909 5.81925 13.173H2.427C2.95517 14.2115 3.6635 15.084 4.552 15.7905C5.4405 16.4968 6.44433 16.9679 7.5635 17.2038ZM11.4365 17.2038C12.5557 16.9679 13.5595 16.4968 14.448 15.7905C15.3365 15.084 16.0448 14.2115 16.573 13.173H13.1807C12.9794 13.9153 12.7262 14.6368 12.421 15.3375C12.116 16.0382 11.7878 16.6602 11.4365 17.2038ZM1.798 11.673H5.5155C5.45267 11.3013 5.40708 10.9369 5.37875 10.5798C5.35058 10.2227 5.3365 9.86283 5.3365 9.5C5.3365 9.13717 5.35058 8.77725 5.37875 8.42025C5.40708 8.06308 5.45267 7.69867 5.5155 7.327H1.798C1.70183 7.66667 1.62817 8.01983 1.577 8.3865C1.52567 8.75317 1.5 9.12433 1.5 9.5C1.5 9.87567 1.52567 10.2468 1.577 10.6135C1.62817 10.9802 1.70183 11.3333 1.798 11.673ZM7.01525 11.673H11.9848C12.0474 11.3013 12.0929 10.9402 12.1212 10.5895C12.1494 10.2388 12.1635 9.87567 12.1635 9.5C12.1635 9.12433 12.1494 8.76117 12.1212 8.4105C12.0929 8.05983 12.0474 7.69867 11.9848 7.327H7.01525C6.95258 7.69867 6.90708 8.05983 6.87875 8.4105C6.85058 8.76117 6.8365 9.12433 6.8365 9.5C6.8365 9.87567 6.85058 10.2388 6.87875 10.5895C6.90708 10.9402 6.95258 11.3013 7.01525 11.673ZM13.4845 11.673H17.202C17.2982 11.3333 17.3718 10.9802 17.423 10.6135C17.4743 10.2468 17.5 9.87567 17.5 9.5C17.5 9.12433 17.4743 8.75317 17.423 8.3865C17.3718 8.01983 17.2982 7.66667 17.202 7.327H13.4845C13.5473 7.69867 13.5929 8.06308 13.6212 8.42025C13.6494 8.77725 13.6635 9.13717 13.6635 9.5C13.6635 9.86283 13.6494 10.2227 13.6212 10.5798C13.5929 10.9369 13.5473 11.3013 13.4845 11.673ZM13.1807 5.827H16.573C16.0385 4.77567 15.335 3.90317 14.4625 3.2095C13.59 2.516 12.5813 2.04167 11.4365 1.7865C11.8198 2.3685 12.1608 3.00508 12.4595 3.69625C12.7583 4.38725 12.9987 5.0975 13.1807 5.827ZM7.3595 5.827H11.6405C11.4083 4.991 11.1163 4.22075 10.7645 3.51625C10.4125 2.81175 9.991 2.14675 9.5 1.52125C9.009 2.14675 8.5875 2.81175 8.2355 3.51625C7.88367 4.22075 7.59167 4.991 7.3595 5.827ZM2.427 5.827H5.81925C6.00125 5.0975 6.24167 4.38725 6.5405 3.69625C6.83917 3.00508 7.18017 2.3685 7.5635 1.7865C6.41217 2.04167 5.40192 2.51767 4.53275 3.2145C3.66342 3.91117 2.9615 4.782 2.427 5.827Z" fill="#222222"/>
          </svg>
        </div>
      </div>
    </div>

    <button class="mx-5 my-5 h-12 w-[calc(100%-40px)] rounded-[20px] bg-brand text-white font-medium text-sm leading-6 sticky bottom-5">
      {{'header.auth.login_register' | translate}}
    </button>
  </aside>
</header>
